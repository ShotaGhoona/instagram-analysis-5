# F0401-F0402: 月間分析ページ実装戦略

## 概要
月間分析ページ（/analytics/account/{accountId}/monthly）の実装。日別データテーブル、4つの推移グラフをmockデータで実装する。ASCIIデザインの月間分析ページを完全再現。

## 実装戦略

### 1. mockデータ作成 (1時間)
`frontend/src/lib/mock-data-monthly.ts`を作成
- **日別データ**: 2025年3月の31日分（ASCIIデザイン通り）
- **完全数値再現**: 投稿数、新規フォロワー、リーチ、プロフィールアクセス、ウェブサイトタップ
- **MonthlyAnalytics・DailyStats型準拠**: 既存types.ts形式
- **グラフ用データ**: 4つの推移グラフ用に最適化したデータ構造

### 2. 日別データテーブルコンポーネント (2時間)
`frontend/src/components/analytics/monthly-table.tsx`を作成
- **shadcn/ui Table使用**: 既存yearly-tableパターン踏襲
- **カラム**: 日付、投稿数、新規フォロワー、リーチ
- **ページネーション実装**: 31日分を表示（ページ1-31/31表示）
- **日付フォーマット**: "03/01"形式
- **数値フォーマット**: formatNumber()使用

### 3. 4つの推移グラフコンポーネント (4時間)
`frontend/src/components/analytics/monthly-charts.tsx`を作成
- **Recharts LineChart統合**: 4つの独立グラフ
- **新規フォロワー数グラフ**: Y軸-20〜+20範囲、データポイント強調
- **リーチグラフ**: Y軸0-200範囲、日別リーチ数推移
- **プロフィールアクセスグラフ**: Y軸0-20範囲、アクセス数推移  
- **ウェブサイトタップグラフ**: Y軸0-2範囲、タップ数推移
- **統一デザイン**: 各グラフ同サイズ、同スタイル、レスポンシブ対応

### 4. 月間分析ページ統合 (1時間)
`frontend/src/app/analytics/account/[accountId]/monthly/page.tsx`更新
- **プレースホルダー削除**: 灰色ボックス→実コンポーネント
- **レイアウト調整**: ASCIIデザイン通り左右2カラム構成
- **期間表示**: "2025/03/01 - 2025/03/31"ハードコード
- **グリッドレイアウト**: テーブル左、4グラフ右側配置

## 完了条件
- [ ] mockデータがASCIIデザインの全31日分数値と完全一致
- [ ] 日別データテーブルが31行すべて正しく表示される
- [ ] 4つの推移グラフがそれぞれ異なる軸範囲で描画される
- [ ] 月間分析ページ全体が左右2カラムレイアウトで統合される
- [ ] ナビゲーションから正常アクセス可能
- [ ] 既存ページ（yearly/posts）に影響なし

## 技術詳細

### ASCIIデザイン再現ポイント
- **日別テーブル**: 03/01〜03/30の投稿数・新規フォロワー・リーチ数値
- **グラフ配置**: 右側4つのグラフを縦配置
- **データポイント**: 各グラフの山・谷を正確に再現
- **Y軸範囲**: 各指標に最適化された表示範囲

### コンポーネント設計
```tsx
// 月間分析ページ構成
<div className="grid gap-6 md:grid-cols-2">
  {/* 左：日別データテーブル */}
  <MonthlyTable data={mockMonthlyData} />
  
  {/* 右：4つの推移グラフ */}
  <div className="space-y-4">
    <NewFollowersChart data={chartData} />
    <ReachChart data={chartData} />
    <ProfileViewsChart data={chartData} />
    <WebsiteTapsChart data={chartData} />
  </div>
</div>
```

## PoC配慮
- **API統合なし**: mockデータのみで機能実装
- **固定月表示**: 2025年3月固定（期間選択なし）
- **シンプルページネーション**: 表示のみ、実際の分割なし
- **エラーハンドリング最小限**: 基本的な表示のみ

## 次への依存関係
- **F0403 API連携**: B0303（月間分析API）実装後に統合
- 現時点ではmockデータでPoC機能を完全実装する